import{s as Y,e as S,a as D,b as R,p as te,f as v,d as q,g as h,h as C,i as y,j as Q,A as se,l as N,B as ne,C as le,D as re,r as O,w as H,x as V,y as ae,q as ie,z as Z,E as oe,F as ue}from"../chunks/scheduler.BZrT-oZZ.js";import{S as $,i as x,t as k,g as T,a as E,c as j,b as z,d as A,m as I,e as P,f as F}from"../chunks/index.CT4JarYA.js";import{s as fe,b as L,a as ce,E as M,c as W,d as de,D as _e,e as G}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.GdYPvb91.js";import"../chunks/entry.C2zrY5XH.js";import{B as J}from"../chunks/Button.B__eb23f.js";function K(r){let e,t,l,s,n;return t=new J({props:{size:"sm",outline:!0,icon:r[1]?M:W,$$slots:{default:[be]},$$scope:{ctx:r}}}),t.$on("click",r[10]),s=new J({props:{size:"sm",variant:"success",outline:!0,icon:de,$$slots:{default:[ge]},$$scope:{ctx:r}}}),s.$on("click",r[11]),{c(){e=S("div"),z(t.$$.fragment),l=D(),z(s.$$.fragment),this.h()},l(a){e=R(a,"DIV",{class:!0});var u=q(e);A(t.$$.fragment,u),l=v(u),A(s.$$.fragment,u),u.forEach(h),this.h()},h(){C(e,"class","absolute bottom-2 right-2 z-10 flex gap-2")},m(a,u){y(a,e,u),I(t,e,null),Q(e,l),I(s,e,null),n=!0},p(a,u){const b={};u&2&&(b.icon=a[1]?M:W),u&32770&&(b.$$scope={dirty:u,ctx:a}),t.$set(b);const g={};u&32768&&(g.$$scope={dirty:u,ctx:a}),s.$set(g)},i(a){n||(k(t.$$.fragment,a),k(s.$$.fragment,a),n=!0)},o(a){E(t.$$.fragment,a),E(s.$$.fragment,a),n=!1},d(a){a&&h(e),P(t),P(s)}}}function me(r){let e;return{c(){e=H("Show Results")},l(t){e=V(t,"Show Results")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function he(r){let e;return{c(){e=H("Hide Results")},l(t){e=V(t,"Hide Results")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function be(r){let e;function t(n,a){return n[1]?he:me}let l=t(r),s=l(r);return{c(){s.c(),e=O()},l(n){s.l(n),e=O()},m(n,a){s.m(n,a),y(n,e,a)},p(n,a){l!==(l=t(n))&&(s.d(1),s=l(n),s&&(s.c(),s.m(e.parentNode,e)))},d(n){n&&h(e),s.d(n)}}}function ge(r){let e;return{c(){e=H("Submit")},l(t){e=V(t,"Submit")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function U(r){let e,t=r[8].error+"",l;return{c(){e=S("pre"),l=H(t),this.h()},l(s){e=R(s,"PRE",{class:!0});var n=q(e);l=V(n,t),n.forEach(h),this.h()},h(){C(e,"class","text-red-500 text-xs font-mono")},m(s,n){y(s,e,n),Q(e,l)},p(s,n){n&256&&t!==(t=s[8].error+"")&&ae(l,t)},d(s){s&&h(e)}}}function X(r){let e,t,l,s;return t=new _e({props:{data:r[8]}}),{c(){e=S("div"),z(t.$$.fragment)},l(n){e=R(n,"DIV",{});var a=q(e);A(t.$$.fragment,a),a.forEach(h)},m(n,a){y(n,e,a),I(t,e,null),s=!0},p(n,a){const u={};a&256&&(u.data=n[8]),t.$set(u)},i(n){s||(k(t.$$.fragment,n),n&&ie(()=>{s&&(l||(l=F(e,G,{},!0)),l.run(1))}),s=!0)},o(n){E(t.$$.fragment,n),n&&(l||(l=F(e,G,{},!1)),l.run(0)),s=!1},d(n){n&&h(e),P(t),n&&l&&l.end()}}}function pe(r){let e,t="SQL Console",l,s,n,a,u,b=r[8].error&&!r[2]&&!!r[4],g,m,w,p,i=!r[3]&&K(r),f=b&&U(r),c=r[1]&&X(r);return{c(){e=S("h1"),e.textContent=t,l=D(),s=S("section"),n=S("div"),i&&i.c(),u=D(),f&&f.c(),g=D(),c&&c.c(),this.h()},l(o){e=R(o,"H1",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-7ylf69"&&(e.textContent=t),l=v(o),s=R(o,"SECTION",{class:!0,role:!0});var _=q(s);n=R(_,"DIV",{class:!0});var B=q(n);i&&i.l(B),B.forEach(h),u=v(_),f&&f.l(_),g=v(_),c&&c.l(_),_.forEach(h),this.h()},h(){C(e,"class","markdown"),C(n,"class","w-full relative rounded border border-gray-300 min-h-[8rem] cursor-text"),C(s,"class","px-0 py-2 bg-white flex flex-col gap-2 min-h-[8rem] svelte-1bw0fbe"),C(s,"role","none")},m(o,_){y(o,e,_),y(o,l,_),y(o,s,_),Q(s,n),i&&i.m(n,null),r[12](n),Q(s,u),f&&f.m(s,null),Q(s,g),c&&c.m(s,null),m=!0,w||(p=[se(a=fe.call(null,n,r[5])),N(s,"click",r[13]),N(s,"keydown",r[14])],w=!0)},p(o,[_]){o[3]?i&&(T(),E(i,1,1,()=>{i=null}),j()):i?(i.p(o,_),_&8&&k(i,1)):(i=K(o),i.c(),k(i,1),i.m(n,null)),a&&ne(a.update)&&_&32&&a.update.call(null,o[5]),_&276&&(b=o[8].error&&!o[2]&&!!o[4]),b?f?f.p(o,_):(f=U(o),f.c(),f.m(s,g)):f&&(f.d(1),f=null),o[1]?c?(c.p(o,_),_&2&&k(c,1)):(c=X(o),c.c(),k(c,1),c.m(s,null)):c&&(T(),E(c,1,1,()=>{c=null}),j())},i(o){m||(k(i),k(c),m=!0)},o(o){E(i),E(c),m=!1},d(o){o&&(h(e),h(l),h(s)),i&&i.d(),r[12](null),f&&f.d(),c&&c.d(),w=!1,le(p)}}}function ke(r,e,t){let l,s=Z,n=()=>(s(),s=oe(p,d=>t(8,l=d)),p);r.$$.on_destroy.push(()=>s());let{hideErrors:a=!1}=e,{initialQuery:u="select 'ABC' as category, 123 as num, 26400000 as sales_usd"}=e,{showResults:b=!0}=e,{disabled:g=!1}=e,m=u,w=m,{data:p=L(m)}=e;n();let i,f;re(async()=>{p&&p.fetch(),t(5,f={initialState:u,disabled:g,schema:await ce(),onChange:d=>{d.docChanged&&w.trim()!==d.state.doc.toString().trim()&&t(6,w=d.state.doc.toString())},onSubmit:()=>(t(4,m=w.trim()),m.endsWith(";")&&t(4,m=m.substring(0,m.length-1)),t(1,b=!0),!0)})});const c=()=>t(1,b=!b),o=()=>{t(4,m=w),t(1,b=!0)};function _(d){ue[d?"unshift":"push"](()=>{i=d,t(7,i)})}const B=()=>i==null?void 0:i.focus(),ee=d=>d.key==="Enter"&&(i==null?void 0:i.focus());return r.$$set=d=>{"hideErrors"in d&&t(2,a=d.hideErrors),"initialQuery"in d&&t(9,u=d.initialQuery),"showResults"in d&&t(1,b=d.showResults),"disabled"in d&&t(3,g=d.disabled),"data"in d&&n(t(0,p=d.data))},r.$$.update=()=>{r.$$.dirty&17&&m&&(n(t(0,p=L(m))),p.fetch()),r.$$.dirty&40&&f&&t(5,f.disabled=g,f)},[p,b,a,g,m,f,w,i,l,u,c,o,_,B,ee]}class ye extends ${constructor(e){super(),x(this,e,ke,pe,Y,{hideErrors:2,initialQuery:9,showResults:1,disabled:3,data:0})}}function we(r){let e,t;return e=new ye({}),{c(){z(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,s){I(e,l,s),t=!0},p:Z,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}class qe extends ${constructor(e){super(),x(this,e,null,we,Y,{})}}export{qe as component};
