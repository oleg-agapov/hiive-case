models:
  - name: stg_transactions
    description: "Information about transactions."
    columns:
      - name: id
        data_type: varchar
        description: "The unique identifier of the transaction."

      - name: bid_id
        data_type: varchar
        description: "The unique identifier of the accepted bid associated with the transaction."

      - name: state
        data_type: varchar
        description: "The current state of the transaction. Transactions in cancelled, expired, closed_fee_paid issuer_approval_declined states are no longer active/open in pipeline."

      - name: transfer_method
        data_type: varchar
        description: "The method of transfer of the shared."

      - name: inserted_at
        data_type: varchar
        description: "When the transaction record was created."

      - name: company_id
        data_type: varchar
        description: "The unique identifier of the issuing company of the shares."

      # - name: buyer_id    # The unique identifier of the buyer
      # - name: seller_id   # The unique identifier of the seller

      - name: num_shares
        data_type: integer
        description: "The number of shares associated with the each transaction."

      - name: price_per_share
        data_type: integer
        description: "The price per share of the transaction. The total revenue value of the transaction is the number of shared multiplied by the number of shares."

      - name: gross_proceeds
        data_type: integer
        description: "The revenue value of the transaction (number of shares multiplied by the price per share)."

      - name: _fivetran_deleted
        data_type: boolean
        description: "The value is TRUE when the record has been soft deleted in the production database. The value is false otherwise."

      - name: _fivetran_synced
        data_type: varchar
        description: "When the record was synced to the data warehouse."


  - name: stg_transaction_transitions
    description: "Information about how transactions move through various states (acts as a log table)."
    columns:
      - name: id
        data_type: varchar
        description: "The unique identifier of the transaction transition."

      - name: inserted_at
        data_type: varchar
        description: "When the transaction transition record was created."

      - name: updated_at
        data_type: varchar
        description: "When the transaction transition record was last updated."

      - name: transaction_id
        data_type: varchar
        description: "The unique identifier of the transaction."

      - name: new_state
        data_type: varchar
        description: "The new state the transaction moved into."

      - name: transitioned_at
        data_type: varchar
        description: "When the transaction moved into a new state."

      - name: _fivetran_deleted
        data_type: boolean
        description: "The value is TRUE when the record has been soft deleted in the production database. The value is false otherwise."

      - name: _fivetran_synced
        data_type: varchar
        description: "When the record was synced to the data warehouse."
